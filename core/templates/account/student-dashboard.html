{% extends 'base_dashboard.html' %}

{% block title %}Student Dashboard - NOCE DSSC{% endblock %}

{% block page_title_mobile %}Dashboard{% endblock %}

{% block content %}
<!-- Welcome Banner -->
<div class="bg-gradient-to-r from-primary to-primary-dark rounded-2xl p-6 md:p-8 text-white">
    <div class="flex flex-col md:flex-row md:items-center justify-between gap-4">
        <div>
            <h1 class="text-2xl md:text-3xl font-bold mb-2">Welcome back, {{ student_name|default:"Student" }}!</h1>
            <p class="text-white/80">Here's an overview of your academic progress.</p>
        </div>
        <div class="flex items-center gap-4">
            <div class="text-center">
                <p class="text-3xl font-bold">{{ student_class }}</p>
                <p class="text-sm text-white/70">Class</p>
            </div>
            <div class="w-px h-12 bg-white/30"></div>
            <div class="text-center">
                <p class="text-3xl font-bold">{{ current_term|default:"-" }}</p>
                <p class="text-sm text-white/70">Term</p>
            </div>
        </div>
    </div>
</div>

<!-- Quick Stats -->
<div class="grid grid-cols-2 md:grid-cols-4 gap-4">
    <div class="bg-white dark:bg-surface-dark rounded-xl p-5 border border-border-color dark:border-[#2d3748]">
        <div class="flex items-center gap-3">
            <div class="p-2 bg-green-100 dark:bg-green-900/30 rounded-lg text-green-600">
                <span class="material-symbols-outlined">school</span>
            </div>
            <div>
                <p class="text-text-sub text-sm">Average Score</p>
                <p class="text-text-main dark:text-white text-xl font-bold">{{ avg_score }}%</p>
            </div>
        </div>
    </div>
    <div class="bg-white dark:bg-surface-dark rounded-xl p-5 border border-border-color dark:border-[#2d3748]">
        <div class="flex items-center gap-3">
            <div class="p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg text-primary">
                <span class="material-symbols-outlined">calendar_month</span>
            </div>
            <div>
                <p class="text-text-sub text-sm">Attendance</p>
                <p class="text-text-main dark:text-white text-xl font-bold">{{ attendance_rate }}%</p>
            </div>
        </div>
    </div>
    <div class="bg-white dark:bg-surface-dark rounded-xl p-5 border border-border-color dark:border-[#2d3748]">
        <div class="flex items-center gap-3">
            <div class="p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg text-purple-600">
                <span class="material-symbols-outlined">menu_book</span>
            </div>
            <div>
                <p class="text-text-sub text-sm">Subjects</p>
                <p class="text-text-main dark:text-white text-xl font-bold">{{ total_subjects }}</p>
            </div>
        </div>
    </div>
    <div class="bg-white dark:bg-surface-dark rounded-xl p-5 border border-border-color dark:border-[#2d3748]">
        <div class="flex items-center gap-3">
            <div class="p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg text-orange-600">
                <span class="material-symbols-outlined">emoji_events</span>
            </div>
            <div>
                <p class="text-text-sub text-sm">Class Position</p>
                <p class="text-text-main dark:text-white text-xl font-bold">{{ position }}</p>
            </div>
        </div>
    </div>
</div>

<!-- Quick Actions -->
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    <!-- View Results Card -->
    <a href="{% url 'student_result' %}" class="bg-white dark:bg-surface-dark rounded-xl p-6 border border-border-color dark:border-[#2d3748] hover:border-primary/50 hover:shadow-lg transition-all group">
        <div class="flex items-center gap-4">
            <div class="p-3 bg-primary/10 rounded-xl text-primary group-hover:bg-primary group-hover:text-white transition-colors">
                <span class="material-symbols-outlined text-3xl">assignment</span>
            </div>
            <div>
                <h3 class="text-lg font-bold text-text-main dark:text-white">View Results</h3>
                <p class="text-sm text-text-sub">Check your termly results</p>
            </div>
        </div>
    </a>
    
    <!-- Timetable Card -->
    <div class="bg-white dark:bg-surface-dark rounded-xl p-6 border border-border-color dark:border-[#2d3748] hover:border-primary/50 hover:shadow-lg transition-all group cursor-pointer">
        <div class="flex items-center gap-4">
            <div class="p-3 bg-green-100 dark:bg-green-900/30 rounded-xl text-green-600 group-hover:bg-green-600 group-hover:text-white transition-colors">
                <span class="material-symbols-outlined text-3xl">schedule</span>
            </div>
            <div>
                <h3 class="text-lg font-bold text-text-main dark:text-white">Timetable</h3>
                <p class="text-sm text-text-sub">View class schedule</p>
            </div>
        </div>
    </div>
    
    <!-- Fee Status Card -->
    <div class="bg-white dark:bg-surface-dark rounded-xl p-6 border border-border-color dark:border-[#2d3748] hover:border-primary/50 hover:shadow-lg transition-all group cursor-pointer">
        <div class="flex items-center gap-4">
            <div class="p-3 bg-orange-100 dark:bg-orange-900/30 rounded-xl text-orange-600 group-hover:bg-orange-600 group-hover:text-white transition-colors">
                <span class="material-symbols-outlined text-3xl">payments</span>
            </div>
            <div>
                <h3 class="text-lg font-bold text-text-main dark:text-white">Fee Status</h3>
                <p class="text-sm text-text-sub">Check payment status</p>
            </div>
        </div>
    </div>
    
    <!-- Buy Pin Card -->
    <a href="{% url 'buy_pin_page' %}" class="bg-white dark:bg-surface-dark rounded-xl p-6 border border-border-color dark:border-[#2d3748] hover:border-primary/50 hover:shadow-lg transition-all group">
        <div class="flex items-center gap-4">
            <div class="p-3 bg-purple-100 dark:bg-purple-900/30 rounded-xl text-purple-600 group-hover:bg-purple-600 group-hover:text-white transition-colors">
                <span class="material-symbols-outlined text-3xl">vpn_key</span>
            </div>
            <div>
                <h3 class="text-lg font-bold text-text-main dark:text-white">Buy Result Pin</h3>
                <p class="text-sm text-text-sub">Purchase pin for results</p>
            </div>
        </div>
    </a>
</div>

<!-- Recent Announcements -->
<div class="bg-white dark:bg-surface-dark rounded-xl border border-border-color dark:border-[#2d3748]">
    <div class="p-4 border-b border-border-color dark:border-[#2d3748] flex justify-between items-center">
        <h3 class="text-lg font-bold text-text-main dark:text-white">Recent Announcements</h3>
        <a href="#" class="text-primary text-sm font-medium hover:underline">View All</a>
    </div>
    <div class="divide-y divide-border-color dark:divide-[#2d3748]">
        <div class="p-4 hover:bg-gray-50 dark:hover:bg-[#2d3748] transition-colors">
            <div class="flex items-start gap-3">
                <div class="p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg text-primary shrink-0">
                    <span class="material-symbols-outlined">campaign</span>
                </div>
                <div>
                    <h4 class="font-semibold text-text-main dark:text-white">Mid-Term Break Notice</h4>
                    <p class="text-sm text-text-sub mt-1">School will be on mid-term break from February 15-19, 2024.</p>
                    <p class="text-xs text-text-sub mt-2">Posted 2 days ago</p>
                </div>
            </div>
        </div>
        <div class="p-4 hover:bg-gray-50 dark:hover:bg-[#2d3748] transition-colors">
            <div class="flex items-start gap-3">
                <div class="p-2 bg-green-100 dark:bg-green-900/30 rounded-lg text-green-600 shrink-0">
                    <span class="material-symbols-outlined">sports_soccer</span>
                </div>
                <div>
                    <h4 class="font-semibold text-text-main dark:text-white">Inter-House Sports Competition</h4>
                    <p class="text-sm text-text-sub mt-1">Annual inter-house sports will hold on March 15, 2024.</p>
                    <p class="text-xs text-text-sub mt-2">Posted 5 days ago</p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
